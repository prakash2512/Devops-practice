###Docker
FROM maven  AS build
WORKDIR /app
COPY pom.xml .
COPY src ./src
RUN mvn clean install

# Create the runtime image
FROM azul/zulu-openjdk:21-latest
WORKDIR /app
COPY --from=build /app/target/GridAPI-0.0.1-SNAPSHOT.jar /app/GridAPI-0.0.1-SNAPSHOT.jar
COPY selenium-server-4.34.0.jar /app/selenium-server-4.34.0.jar
COPY start.sh /app/start.sh
RUN chmod +x start.sh
EXPOSE 9003
CMD ["./start.sh"]
